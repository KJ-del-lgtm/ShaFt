<h2 class="mb-4 text-center">シフト編集</h2>

<div class="container bg-light py-3 rounded">
  <%= form_with(model: [@group, @shift], local: false) do |f| %>

    <div class="mb-3">
      <%= f.label :user_id, "ユーザー", class: "form-label fw-bold" %>
      <%= f.collection_select :user_id, @group.users, :id, :name, {}, class: "form-select" %>
    </div>

    <div class="mb-3">
      <%= f.label :start_time, "開始時間", class: "form-label fw-bold" %>
      <p class="text-muted small mb-1">
        現在: <%= @shift.start_time.strftime("%H:%M") %>
      </p>
      <div class="form-control p-0 border-0">
        <%= f.datetime_select :start_time, { default: @shift.start_time, discard_year: true, discard_month: true, discard_day: true }, { class: "form-select d-inline w-auto me-1" } %>
      </div>
    </div>

    <div class="mb-3">
      <%= f.label :end_time, "終了時間", class: "form-label fw-bold" %>
      <p class="text-muted small mb-1">
        現在: <%= @shift.end_time.strftime("%H:%M") %>
      </p>
      <div class="form-control p-0 border-0">
        <%= f.datetime_select :end_time, { default: @shift.end_time, discard_year: true, discard_month: true, discard_day: true }, { class: "form-select d-inline w-auto me-1" } %>
      </div>
    </div>

    <div class="d-flex gap-2 mt-4">
      <%= f.submit "更新", class: "btn btn-primary flex-fill" %>
      <%= link_to "戻る", group_path(@group), class: "btn btn-secondary flex-fill" %>
      <%= link_to "削除", group_shift_path(@group, @shift), method: :delete, data: { confirm: "削除しますか？" }, class: "btn btn-danger flex-fill" %>
    </div>

  <% end %>
</div>